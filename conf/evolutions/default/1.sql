# --- !Ups

CREATE TABLE ACCOUNTS (
  ID   BIGINT GENERATED BY DEFAULT AS IDENTITY ( START WITH 1) PRIMARY KEY,
  NAME VARCHAR NOT NULL,
  amount DECIMAL(20, 2)
);

CREATE TABLE TRANSACTIONS (
  ID BIGINT GENERATED BY DEFAULT AS IDENTITY ( START WITH 1) PRIMARY KEY,
  FROM_ID BIGINT NOT NULL,
  TO_ID BIGINT NOT NULL,
  AMOUNT DECIMAL(20, 2),
  CREATION_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP(),
  FOREIGN KEY (FROM_ID) REFERENCES ACCOUNTS (ID),
  FOREIGN KEY (TO_ID) REFERENCES ACCOUNTS (ID)
);

INSERT INTO ACCOUNTS (NAME, AMOUNT) VALUES ('antipov', 5.12);
INSERT INTO ACCOUNTS (NAME, AMOUNT) VALUES ('shur', 4.34);

# --- !Downs
DROP TABLE TRANSACTIONS;
DROP TABLE ACCOUNTS;
